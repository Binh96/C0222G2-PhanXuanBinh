


<div class="content py-5">
    <div class="menu-container container py-5">
        <div class="introduce-header col-6">
            <p class="introduce-header-text">Welcome</p>
            <h1 class="introduce-header-heading">My Store</h1>
            <p class="introduce-header-para">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Adipisci consequuntur cupiditate
                ipsam iste molestias neque, numquam quo rerum tenetur vitae!</p>
        </div>
    </div>
    <div class="container list-container py-5">
        <p class="text-danger"></p>
        <div class="search-container">
            <div class="search-form">
                <form [formGroup]="search" class="d-flex align-items-center search-form-container" (ngSubmit)="findConsigment()">
                    <label for="">Tên sản phẩm:</label>
                    <br>
                    <input type="text" class="form-control mx-2" placeholder="Tìm kiếm theo tên sản phẩm" formControlName="nameProduct">
                    <!-- <label for="">Ngày hết hạn:</label>
                    <br>
                    <input type="date" class="form-control mx-2" placeholder="Tìm kiếm theo ngày hết hạn" formControlName="endOfDate">
                    <label for="">Ngày nhập hàng:</label>
                    <br>
                    <input type="date" class="form-control mx-2" placeholder="Tìm kiếm theo ngày nhập hàng" formControlName="dateInStart">
                    <label for="">Ngày nhập hàng:</label>
                    <br>
                    <input type="date" class="form-control mx-2" placeholder="Tìm kiếm theo ngày nhập hàng" formControlName="dateInEnd"> -->
                    <button class="btn-search"><i class="text-white fa-solid fa-magnifying-glass"></i></button>
                </form>
            </div>
        </div>
        <table class="table">
            <thead>
            <tr>
                <th class="table-list text-center">No.</th>
                <th class="table-list text-center">Code Consignment</th>
                <th class="table-list text-center">Name Product</th>
                <th class="table-list text-center">Price</th>
                <th class="table-list text-center">Unit</th>
                <th class="table-list text-center">Quantity</th>
                <th class="table-list text-center">Date in </th>
                <th class="table-list text-center">Date out</th>
                <th class="table-list text-center">End of Date</th>
                <th class="table-list text-center">Option</th>
            </tr>
            </thead>
            <tbody>
                <tr *ngFor="let consigment of consigments | paginate: {itemsPerPage: 5, currentPage: p}, index as i">
                    <td class="table-list text-center">{{i+1}}</td>
                    <td class="table-list text-center">{{consigment.codeConsignment}}</td>
                    <td class="table-list text-center">{{consigment.product.nameProduct}}</td>
                    <td class="table-list text-center">{{consigment.product.price}}</td>
                    <td class="table-list text-center">{{consigment.product.unit}}</td>
                    <td class="table-list text-center">{{consigment.quantity}}</td>
                    <td class="table-list text-center">{{consigment.dateIn | date: "dd-MM-yyyy"}}</td>
                    <td class="table-list text-center">{{consigment.dateOut | date: "dd-MM-yyyy" }}</td>
                    <td class="table-list text-center">{{consigment.endOfDate}}</td>
                    <td class="table-list text-center">
                        <a class="btn btn-warning mx-2" [routerLink]="['/edit-consigment', consigment.id]">
                            <i class="fa-solid fa-pen text-white"></i>
                        </a>
                        <button type="button" class="btn btn-danger mx-2" data-bs-toggle="modal" data-bs-target="#exampleModal" (click)="findToDelete(consigment.id)">
                            <i class="fa-solid fa-trash-can text-white"></i>
                        </button>
                    </td>
                </tr>
                <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">Erase Consigment </h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <p *ngIf="consigmentHasToDelete">Do you want erase {{consigmentHasToDelete.product.id}}</p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-danger" (click)="delete(consigmentHasToDelete.id)" data-bs-dismiss="modal">
                                Delete
                            </button>
                        </div>
                        </div>
                    </div>
                </div>
            </tbody>
            <!-- Modal -->
        </table>
        <p *ngIf="consigments.length == 0" class="text-center">Data unvaliabel</p>
    </div>
    <div class="container">
        <pagination-controls (pageChange)="p = $event" class="d-flex flex-row-reverse"></pagination-controls>
    </div>

</div>

<div class="menu-side d-flex align-items-center justify-content-center">
    <a routerLink="../insert-consigment" class="d-flex align-items-center justify-content-center
text-white circle circle-l menu-side-btn text-decoration-none">
        <i class="fa-solid fa-plus icon"></i>
    </a>
</div>


